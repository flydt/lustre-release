.TH LCTL-LFSCK_QUERY 8 2024-08-13 Lustre "Lustre Configuration Utilities"
.SH NAME
lctl-lfsck_query \- get Lustre File System Check global status
.SH SYNOPSIS
.SY "lctl lfsck_query"
.RB [ -M | --device
.IR MDT_DEVICE ]
.RB [ -h | --help ]
.RB [ -t | --type
.IR LFSCK_TYPE [, LFSCK_TYPE ...]]
.RB [ -w | --wait ]
.YS
.SH DESCRIPTION
Get the LFSCK global status via the specified MDT device. If "-M" option
is not specified, it will select the available Lustre device on current
server automatically. But if there are multiple devices on current server
those belong to different Lustre filesystems, you need to specify the
device (see
.RB " -M "
option) explicitly.
.SH OPTIONS
.TP
.BR -M ", " --device \ \fIMDT_DEVICE
Specify the MDT device on which the LFSCK runs or ever ran.
.TP
.BR -t ", " --type \ \fILFSCK_TYPE\fR[,\fILFSCK_TYPE\fR...]
Specify what kind(s) of LFSCK to be checked. If no type is given, the default
is to check all types of LFSCK status. Valid types are a comma-separated list
of one or more of: namespace, layout, all.
.TP
.BR -h ", " --help
Show this help.
.TP
.BR -w ", " --wait
Do not return until there is no on-going LFSCK scanning on any target
associated with this filesystem (MDT or OST).
.SH AVAILABILITY
.B lctl-lfsck-query
is part of the
.BR lustre (7)
filesystem package since release 2.9.0
.\" Added in commit v2_8_50_0-22-g6871453b05
.SH SEE ALSO
.BR lctl (8),
.BR lctl-lfsck-start (8),
.BR lctl-lfsck-stop (8)
